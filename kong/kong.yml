_format_version: "3.0"
services:
  - name: backend
    url: https://fastfood-web-backend-production.up.railway.app
    routes:
      - name: backend-api
        paths:
          - /api
        strip_path: false
plugins:
  - name: rate-limiting
    service: backend
    config:
      minute: 5
      hour: 60
      policy: local
  - name: key-auth
    service: backend
  - name: acl
    service: backend
    config:
      allow:
        - trusted-clients
  - name: request-size-limiting
    service: backend
    config:
      allowed_payload_size: 1 # MB
      require_content_length: false
consumers:
  - username: local-tester
    keyauth_credentials:
      - key: local-demo-key
    acls:
      - group: trusted-clients
